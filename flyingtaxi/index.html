<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Flying Taxi — Request a ride</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Leaflet CSS/JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <style>
        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-6px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        .float-icon {
            animation: float 2s infinite ease-in-out;
        }

        #map {
            height: 320px;
            border-radius: 12px;
        }

        @media (min-width: 768px) {
            #map {
                height: 420px;
            }
        }
    </style>
</head>

<body class="bg-gray-100 text-gray-800">

    <!-- NAVBAR -->
    <header class="fixed top-0 left-0 w-full z-50 bg-black shadow-lg">
        <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-5">
            <div class="flex items-center gap-3">
                <div
                    class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-pink-500 rounded-md flex items-center justify-center text-white font-bold text-lg float-icon">
                    FT
                </div>
                <span class="text-white font-semibold text-lg tracking-wide">Flying Taxi</span>
            </div>

            <!-- Desktop Nav -->
            <nav class="hidden md:flex items-center gap-6">
                <a href="index.html" class="text-gray-200 hover:text-white text-base font-medium">Home</a>
                <a href="price.html" class="text-gray-200 hover:text-white text-base font-medium">Price</a>
                <a href="about.html" class="text-gray-200 hover:text-white text-base font-medium">About</a>
                <a href="help.html" class="text-gray-200 hover:text-white text-base font-medium">Help</a>

                <button class="bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm px-3 py-1">EN</button>
                <button class="bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm px-3 py-1">हिं</button>

                <button onclick="openModal('loginModal')"
                    class="bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm px-4 py-2">Login</button>
                <button onclick="openModal('signupModal')"
                    class="bg-pink-600 hover:bg-pink-700 text-white rounded-lg text-sm px-4 py-2">Sign Up</button>
            </nav>

            <!-- Mobile Nav -->
            <div class="flex items-center gap-3 md:hidden">
                <button onclick="openModal('loginModal')"
                    class="bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-xs px-3 py-1">Login</button>
                <button onclick="openModal('signupModal')"
                    class="bg-pink-600 hover:bg-pink-700 text-white rounded-lg text-xs px-3 py-1">Sign Up</button>
                <button id="menuBtn" class="text-white text-2xl">☰</button>
            </div>
        </div>

        <div id="mobileMenu" class="hidden md:hidden bg-black px-6 py-6 flex flex-col gap-4">
            <a href="index.html" class="text-gray-200 hover:text-white text-base font-medium">Home</a>
            <a href="price.html" class="text-gray-200 hover:text-white text-base font-medium">Price</a>
            <a href="about.html" class="text-gray-200 hover:text-white text-base font-medium">About</a>
            <a href="help.html" class="text-gray-200 hover:text-white text-base font-medium">Help</a>
            <div class="flex gap-2">
                <button class="flex-1 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm px-3 py-1">EN</button>
                <button
                    class="flex-1 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm px-3 py-1">हिं</button>
            </div>
            <button class="text-red-400 text-right" id="closeMenu">✖ Close</button>
        </div>
    </header>

    <!-- HERO + Booking -->
    <main class="pt-28">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">

                <!-- LEFT (Booking Form) -->
                <div class="space-y-6 order-2 md:order-1">
                    <div class="space-y-2">
                        <h1 class="text-3xl md:text-4xl font-extrabold">Request a ride for now</h1>
                        <div class="flex items-center gap-3">
                            <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium">Up to
                                50% OFF</span>
                            <p class="text-gray-600">Up to 50% off your first 2 rides.</p>
                        </div>
                    </div>

                    <!-- Booking card -->
                    <div class="bg-white rounded-2xl shadow-lg p-5 w-full max-w-xl">
                        <form id="rideForm" class="space-y-4">
                            <div>
                                <label class="text-sm text-gray-600">Enter pickup location</label>
                                <input id="pickupInput" type="text" placeholder="e.g. Connaught Place, Delhi"
                                    class="w-full border rounded-lg px-3 py-3 mt-1 focus:ring-2 focus:ring-indigo-300" />
                            </div>
                            <div>
                                <label class="text-sm text-gray-600">Enter destination</label>
                                <input id="destInput" type="text" placeholder="e.g. India Gate, Delhi"
                                    class="w-full border rounded-lg px-3 py-3 mt-1 focus:ring-2 focus:ring-indigo-300" />
                            </div>
                            <button type="button" id="seePriceBtn"
                                class="w-full bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg px-4 py-3 font-medium">See
                                Price</button>
                            <p class="text-sm text-gray-500 mt-1">Distance-based fare: <strong>₹5 / km</strong></p>
                        </form>

                        <div id="mapArea" class="mt-4 hidden">
                            <div class="relative">
                                <div id="map" class="w-full"></div>
                                <button id="closeMapBtn"
                                    class="absolute top-3 right-3 bg-white/90 text-gray-700 rounded-full w-9 h-9 flex items-center justify-center shadow">✖</button>
                            </div>
                            <div class="mt-3 flex items-center justify-between">
                                <div>
                                    <div class="text-sm text-gray-600">Distance</div>
                                    <div id="distanceText" class="text-lg font-semibold">— km</div>
                                </div>
                                <div class="text-right">
                                    <div class="text-sm text-gray-600">Estimated fare</div>
                                    <div id="fareText" class="text-lg font-semibold">—</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- RIGHT (Hero Image) -->
                <div class="md:w-1/2 mt-8 md:mt-0 flex justify-center order-1 md:order-2">
                    <div class="rounded-2xl overflow-hidden shadow-2xl max-w-md w-full">
                        <img src="https://images.prismic.io/joby-site/8f75a5be-df20-4456-8ab5-23ba240f5444_Joby-Aircraft-Dubai-WGS.jpg?auto=compress,format&fit=crop&crop=faces&rect=null&q=80&blend-color=null&blend-mode=null&w=900&h=562.5&dpr=1"
                            alt="Flying Taxi" class="w-full h-auto object-cover" />
                    </div>
                </div>
            </div>

            <!-- MINI CARDS -->
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mt-12">
                <!-- 2 Seater -->
                 <a href="booking.html">
                <div
                    class="bg-white rounded-xl shadow-lg p-4 flex flex-col items-center text-center hover:scale-105 transition-transform">
                    <img src="flying_taxi_2_seater.png" alt="2 Seater" class="w-20 h-20 mb-2">
                    <h3 class="font-semibold">2 Seater</h3>
                    <p class="text-sm text-gray-500">Perfect for quick city rides.</p>
                </div>
        </a>
                <!-- 3 Seater -->
                 <a href="bok3.html">
                <div
                    class="bg-white rounded-xl shadow-lg p-4 flex flex-col items-center text-center hover:scale-105 transition-transform">
                    <img src="flying_taxi_3_seater.png" alt="3 Seater" class="w-20 h-20 mb-2">
                    <h3 class="font-semibold">3 Seater</h3>
                    <p class="text-sm text-gray-500">Ideal for small groups.</p>
                </div>
                </a>
                <!-- 4 Seater -->
                 <a href="box4.html">
                <div
                    class="bg-white rounded-xl shadow-lg p-4 flex flex-col items-center text-center hover:scale-105 transition-transform">
                    <img src="flying_taxi_4_seater.png" alt="4 Seater" class="w-20 h-20 mb-2">
                    <h3 class="font-semibold">4 Seater</h3>
                    <p class="text-sm text-gray-500">Comfortable rides with family.</p>
                </div>
                </a>
                <a href="box5.html">
                <!-- 5 Seater -->
                <div
                    class="bg-white rounded-xl shadow-lg p-4 flex flex-col items-center text-center hover:scale-105 transition-transform">
                    <img src="flying_taxi_5_seater.png" alt="5 Seater" class="w-20 h-20 mb-2">
                    <h3 class="font-semibold">5 Seater</h3>
                    <p class="text-sm text-gray-500">Spacious rides for everyone.</p>
                </div>
                </a>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="bg-black text-gray-200 mt-12">
        <div class="max-w-7xl mx-auto px-4 py-8 grid grid-cols-1 md:grid-cols-3 gap-6">
            <div>
                <h4 class="font-semibold text-lg mb-2">Flying Taxi</h4>
                <p class="text-sm text-gray-400">We provide safe and fast flying taxi services across the city.</p>
            </div>
            <div>
                <h4 class="font-semibold text-lg mb-2">About</h4>
                <ul class="text-sm text-gray-400 space-y-1">
                    <li><a href="#" class="hover:text-white">Company</a></li>
                    <li><a href="#" class="hover:text-white">Careers</a></li>
                    <li><a href="#" class="hover:text-white">Privacy Policy</a></li>
                </ul>
            </div>
            <div>
                <h4 class="font-semibold text-lg mb-2">Follow Us</h4>
                <div class="flex items-center gap-3">
                    <a href="#" class="hover:text-white"><img
                            src="https://cdn-icons-png.flaticon.com/512/733/733547.png" class="w-6 h-6"
                            alt="Facebook"></a>
                    <a href="#" class="hover:text-white"><img
                            src="https://cdn-icons-png.flaticon.com/512/733/733579.png" class="w-6 h-6"
                            alt="Twitter"></a>
                    <a href="#" class="hover:text-white"><img
                            src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" class="w-6 h-6"
                            alt="Instagram"></a>
                </div>
            </div>
        </div>
        <div class="text-center text-gray-500 text-sm py-4 border-t border-gray-700">© 2025 Flying Taxi. All rights
            reserved.</div>
    </footer>

    <!-- LOGIN/SIGNUP MODAL -->
    <div id="loginModal" class="hidden fixed inset-0 bg-black/60 flex items-center justify-center z-50">
        <div class="bg-white rounded-xl shadow-lg w-80 p-6">
            <h2 class="text-xl font-semibold mb-4">Login</h2>
            <input type="email" placeholder="Email or phone" class="w-full mb-3 px-3 py-2 border rounded-lg" />
            <input type="password" placeholder="Password" class="w-full mb-3 px-3 py-2 border rounded-lg" />
            <button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg">Login</button>
            <button onclick="closeModal('loginModal')" class="mt-3 w-full text-sm text-gray-600">Close</button>
        </div>
    </div>

    <div id="signupModal" class="hidden fixed inset-0 bg-black/60 flex items-center justify-center z-50">
        <div class="bg-white rounded-xl shadow-lg w-80 p-6">
            <h2 class="text-xl font-semibold mb-4">Sign Up</h2>
            <input type="text" placeholder="Full Name" class="w-full mb-3 px-3 py-2 border rounded-lg" />
            <input type="email" placeholder="Email or phone" class="w-full mb-3 px-3 py-2 border rounded-lg" />
            <input type="password" placeholder="Password" class="w-full mb-3 px-3 py-2 border rounded-lg" />
            <button class="w-full bg-pink-600 hover:bg-pink-700 text-white py-2 rounded-lg">Sign Up</button>
            <button onclick="closeModal('signupModal')" class="mt-3 w-full text-sm text-gray-600">Close</button>
        </div>
    </div>

    <!-- SCRIPT -->
    <script>
        const menuBtn = document.getElementById('menuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const closeMenu = document.getElementById('closeMenu');
        if (menuBtn) menuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
        if (closeMenu) closeMenu.addEventListener('click', () => mobileMenu.classList.add('hidden'));
        function openModal(id) { document.getElementById(id).classList.remove('hidden'); }
        function closeModal(id) { document.getElementById(id).classList.add('hidden'); }

        let map = null, pickupMarker = null, destMarker = null;
        const seePriceBtn = document.getElementById('seePriceBtn');
        const mapArea = document.getElementById('mapArea');
        const closeMapBtn = document.getElementById('closeMapBtn');
        const distanceText = document.getElementById('distanceText');
        const fareText = document.getElementById('fareText');

        function haversine(lat1, lon1, lat2, lon2) {
            function toRad(x) { return x * Math.PI / 180; }
            const R = 6371;
            const dLat = toRad(lat2 - lat1);
            const dLon = toRad(lon2 - lon1);
            const a = Math.sin(dLat / 2) ** 2 + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;
            return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
        }

        async function geocode(query) {
            const url = 'https://nominatim.openstreetmap.org/search?format=json&q=' + encodeURIComponent(query);
            const resp = await fetch(url, { headers: { 'Accept-Language': 'en' } });
            const data = await resp.json();
            if (!data || data.length === 0) return null;
            return { lat: parseFloat(data[0].lat), lon: parseFloat(data[0].lon), display: data[0].display_name };
        }

        seePriceBtn.addEventListener('click', async () => {
            const pickup = document.getElementById('pickupInput').value.trim();
            const dest = document.getElementById('destInput').value.trim();
            if (!pickup || !dest) { alert('Please enter both pickup and destination.'); return; }

            seePriceBtn.disabled = true;
            seePriceBtn.textContent = 'Calculating...';

            try {
                const p = await geocode(pickup);
                const d = await geocode(dest);
                if (!p || !d) { alert('Could not find one of the locations.'); return; }

                if (!map) {
                    map = L.map('map');
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19, attribution: '© OpenStreetMap' }).addTo(map);
                }
                if (pickupMarker) map.removeLayer(pickupMarker);
                if (destMarker) map.removeLayer(destMarker);

                pickupMarker = L.marker([p.lat, p.lon]).addTo(map).bindPopup('Pickup: ' + p.display).openPopup();
                destMarker = L.marker([d.lat, d.lon]).addTo(map).bindPopup('Destination: ' + d.display);

                const bounds = L.latLngBounds([[p.lat, p.lon], [d.lat, d.lon]]);
                map.fitBounds(bounds.pad(0.4));

                const distKm = haversine(p.lat, p.lon, d.lat, d.lon);
                const roundedDist = Math.round(distKm * 100) / 100;
                const fare = Math.ceil(roundedDist * 5);

                distanceText.textContent = roundedDist + ' km';
                fareText.textContent = '₹' + fare;

                mapArea.classList.remove('hidden');
            } finally {
                seePriceBtn.disabled = false;
                seePriceBtn.textContent = 'See Price';
            }
        });

        closeMapBtn.addEventListener('click', () => { mapArea.classList.add('hidden'); });
    </script>
</body>

</html>